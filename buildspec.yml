version: 0.1

phases:
  install:
    commands:
      - echo list files
      - ls
      - echo Installing Yarn...
      - npm install -g yarn
      - npm install node-sass
      - echo Installing gulp...
      - npm install -g gulp
      - echo checking location of gulp and its version
      - which gulp && gulp -v
  pre_build:
    commands:
      - echo Installing source Yarn dependencies...
      - yarn install
  build:
    commands:
      - echo Build started on `date`
      - echo starting the gulp build process
      - gulp build:all
      - echo build:all conmpleted... zipping...
      - gulp zip
      - echo zip completed
  post_build:
    commands:
      - echo Build completed on `date`
artifacts:
  files:
    - build/archive/oneroost.zip
